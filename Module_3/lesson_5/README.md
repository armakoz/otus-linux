>Настраиваем центральный сервер для сбора логов
>в вагранте поднимаем 2 машины web и log
>на web поднимаем nginx
>на log настраиваем центральный лог сервер на любой системе на выбор
>- journald
>- rsyslog
>- elk 
>настраиваем аудит следящий за изменением конфигов нжинкса 

>все критичные логи с web должны собираться и локально и удаленно
>все логи с nginx должны уходить на удаленный сервер (локально только критичные)
>логи аудита уходят ТОЛЬКО на удаленную систему

Сервер развернут через rsyslog.
Написана роль для автоматической конфигурации. Для проверки vagrant up

1)Все логи с важностью crit пишутся в файлик /var/log/critical на ВМ log

Проверка:
```
[root@web ~]# logger -i -p mail.crit "Critical message"
```

 Вывод на log:

 ```
 [root@log log]# cat critical
Aug 18 09:42:24 web vagrant[4878]: Critical message
 ```



2) Nginx уже умеет работать с сислогом. Настройка заключалась в настройке nginx.conf
Результат: accses log пишутся  в файлик /var/log/nginx_access на вм лог
Проверить можно, например, выполнив curl localhost на web

В логе:

```
[root@log log]# cat nginx_accsess.log
Aug 18 09:44:49 web.otus.local nginx: 127.0.0.1 - - [18/Aug/2018:09:44:49 +0000] "GET / HTTP/1.1" 200 612 "-" "curl/7.29.0"
```

3) Аудит пишется в файлик /var/log/audit.log. Настроена проверка изменений в конфиге nginx. Проверить можно что-то изменив  в конфиге и посмотреть вывод лога.

